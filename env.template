# üöÇ VIEAgent ChromaDB - Railway Environment Variables Template
# Copy these to Railway Variables section

# üö® COMPLETE FIX: Proper ChromaDB configuration with CORS
# Issue Fixed: "404 errors on API endpoints - Wrong configuration"
# Solution: Complete ChromaDB configuration with CORS and proper health checks

# üîß CHROMADB PRODUCTION CONFIGURATION
CHROMA_HOST=0.0.0.0
CHROMA_PORT=8000
CHROMA_DB_IMPL=duckdb+parquet
CHROMA_API_IMPL=chromadb.api.fastapi.FastAPI
PERSIST_DIRECTORY=/chroma/data
ANONYMIZED_TELEMETRY=false

# üåê CORS CONFIGURATION FOR EXTERNAL ACCESS
CHROMA_SERVER_CORS_ALLOW_ORIGINS=["*"]
CHROMA_SERVER_HOST=0.0.0.0
CHROMA_SERVER_HTTP_PORT=8000
CHROMA_SERVER_SSL_ENABLED=false

# üîí SECURITY CONFIGURATION
CHROMA_SERVER_AUTH_PROVIDER=""
CHROMA_SERVER_AUTH_CREDENTIALS=""

# üåê RAILWAY NETWORKING (Auto-set by Railway)
RAILWAY_STATIC_URL=""
RAILWAY_PRIVATE_DOMAIN=""
RAILWAY_PUBLIC_DOMAIN=""

# üìù USAGE INSTRUCTIONS:
# 1. Copy these variables to Railway Dashboard > Variables tab
# 2. Set each variable name and value
# 3. Deploy to apply changes

# üõ†Ô∏è START COMMAND (Dockerfile only):
# CMD ["chroma", "run", "--host", "0.0.0.0", "--port", "8000", "--path", "/chroma/data"]

# üè• HEALTH CHECK CONFIGURATION:
# - Dockerfile: HEALTHCHECK with curl to /api/v1
# - railway.json: healthcheckPath: "/api/v1"
# - Railway handles port mapping automatically
# - CORS enabled for external access from Vercel

# üîç TROUBLESHOOTING:
# - Health check endpoint: /api/v1 (not /heartbeat)
# - CORS enabled for external access
# - Single start method (Dockerfile CMD only)
# - Complete ChromaDB configuration
# - Railway service must be marked as "Public" 